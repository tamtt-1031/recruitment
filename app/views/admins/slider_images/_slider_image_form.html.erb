<%= form_for @slider_image, as: :slider_image, url: admins_slider_images_path do |f| %>
  <div class="d-flex justify-content-between align-items-center">
      <h4 class="header-title"><%= t ".title" %></h4>
      <div class="d-flex align-items-center">
        <div class="form-group custom-control custom-checkbox">
          <%= f.check_box :publish_status, {class: "custom-control-input", id: "customCheck1", checked: true}, :publish, :unpublish %>
          <%= f.label :publish, t(".publish"), class: "custom-control-label", for: "customCheck1" %><br>
        </div>

        <div class="form-group d-flex action-wrapper">
          <%= f.submit t(".save"), class: "btn btn-primary btn-block" %>
          <%= link_to t(".cancel"), admins_slider_images_path , class: "btn btn-danger btn-block" %>
        </div>
      </div>
  </div>
  <%= render "admins/shared/error_messages", object: f.object %>

  <div class="form-group">
    <%= f.label :image, t(".image"), class: "col-form-label required" %><br>
    <%= f.file_field :url, class: "image-url", accept:'image/*' %><br>
  </div>

  <div class="image-preview">
    <img id="image-preview" src="#" alt="image" />
  </div>
<% end %>

<script>
function readURL(input) {
    if (input.files && input.files[0]) {
        var reader = new FileReader();

        reader.onload = function (e) {
            $('#image-preview').attr('src', e.target.result);
            $('#image-preview').addClass('show')
        }

        reader.readAsDataURL(input.files[0]);
    }
}

$(".image-url").change(function(){
    readURL(this);
});
</script>
